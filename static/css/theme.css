/* =========================
   Base Theme Variables (LIGHT MODE: High Contrast)
   ========================= */
   :root {
    /* New Palette Mapping */
    --color-olive-green: #61892F;
    --color-lime-green: #86C232;
    --color-deep-gray: #222629;
    --color-medium-gray: #474B4F;
    --color-light-gray: #FEFFFF; /* UPDATED to pure white for dark mode text */
    --color-pure-white: #FEFFFF; /* Ensuring a consistent white variable */

    /* CORE THEME COLORS (Dynamic Base) */
    --bg: var(--color-pure-white);      
    --text: var(--color-deep-gray);     
    --muted: var(--color-medium-gray); 
    --surface: var(--color-pure-white); 
    --border: #E5E7EB; 

    /* CRITICAL ADDITION: Mapping old static vars to dynamic ones */
    --color-text-dark: var(--text);
    --color-text-light: var(--muted);

    --brand: var(--color-olive-green);  
    --brand-contrast: var(--color-pure-white); 
    
    /* DYNAMIC NAVIGATION/FOOTER COLORS (Set to LIGHT mode defaults) */
    --nav-bg: var(--color-medium-gray);  
    --nav-link: var(--color-pure-white); 
    --nav-link-active: var(--color-lime-green); 
    --nav-text: var(--color-pure-white); 

    --table-head-bg: #F0F0F0; 
    --chip-bg: #E3F4F4;
    
    /* Dynamic utility/hover colors */
    --nav-bg-hover: var(--color-olive-green);
    --active-bg: rgba(134, 194, 50, 0.25); 
    --chip-border: rgba(34, 38, 41, 0.35);

    --badge-success: var(--color-olive-green); 
    --badge-fail: #D32F2F;    
    --badge-logout: var(--color-lime-green);  
}

/* =========================
   Dark Mode Overrides (Theme Toggle Activation)
   ========================= */
[data-theme="dark"] {
    /* CORE THEME COLOR OVERRIDES */
    --bg: var(--color-deep-gray);    
    --text: var(--color-light-gray);      /* CRITICAL: Now resolves to #FEFFFF */
    --muted: var(--color-light-gray);     /* Muted text also uses #FEFFFF for high contrast */
    --surface: var(--color-medium-gray); 
    --border: var(--color-olive-green);     
    
    --brand: var(--color-lime-green);    
    --brand-contrast: var(--color-deep-gray); 
    
    /* CRITICAL ADDITION: Mapping old static vars to dynamic ones */
    --color-text-dark: var(--text);
    --color-text-light: var(--muted);

    /* DYNAMIC NAVIGATION/FOOTER COLOR OVERRIDES */
    --nav-bg: var(--color-deep-gray); 
    --nav-link: var(--color-light-gray); /* Links now use pure white */
    --nav-link-active: var(--color-lime-green); 
    --nav-text: var(--color-light-gray); 
    
    --table-head-bg: var(--color-deep-gray);
    --chip-bg: var(--color-medium-gray);      
    
    --nav-bg-hover: var(--color-olive-green);
    --active-bg: rgba(134, 194, 50, 0.5);
    --chip-border: rgba(97, 137, 47, 0.6);

    --badge-success: var(--color-olive-green);
    --badge-fail: #D32F2F;
    --badge-logout: var(--color-lime-green);
}
/* =========================
   Shared Components
   ========================= */
html, body {
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
}

.muted {
  color: var(--muted);
}

.site-nav {
  /* This style will dynamically change based on the 'data-theme' attribute */
  background: var(--nav-bg);
  padding: .5rem 1rem;
  display: flex;
  align-items: center;
}
.site-nav .nav-link, .site-nav .brand {
  /* This style will dynamically change based on the 'data-theme' attribute */
  color: var(--nav-link);
  text-decoration: none;
  margin-right: 1rem;
}
.site-nav .nav-link.active {
  color: var(--nav-link-active);
  font-weight: bold;
}

footer.site-footer {
  /* This style will dynamically change based on the 'data-theme' attribute */
  background: var(--nav-bg); 
  color: var(--nav-link); /* Uses nav-link color for footer text */
  padding: 1rem;
  text-align: center;
  margin-top: 2rem;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface);
}
th, td {
  border: 1px solid var(--border);
  padding: .5rem;
}
th {
  background: var(--table-head-bg);
}

.btn {
  background: var(--brand);
  border: none;
}